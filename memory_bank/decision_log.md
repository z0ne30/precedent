# Decision Log

*   **[Timestamp]** - **Decision:** Initialize `memory_bank` system with `execution_plan.md`, `progress_log.md`, `decision_log.md`. **Reason:** Required by initial prompt for autonomous session setup.
*   **[Timestamp]** - **Decision:** Use Prisma ORM for database interaction. **Reason:** Specified in the initial prompt.
*   **[Timestamp]** - **Decision:** Use Yarn as the package manager for all commands. **Reason:** Specified in the initial prompt.
*   **[Timestamp]** - **Decision:** Adopted the 10-step plan detailed in `execution_plan.md` for Prisma integration. **Reason:** Structured approach to meet prompt requirements. (Note: Plan will be updated based on package manager analysis).
*   **[Timestamp]** - **Decision:** Choose PostgreSQL as the datasource provider for Prisma initialization. **Reason:** Common and robust choice, suitable for Vercel deployment.
*   **[Timestamp]** - **Decision:** Start with a simple `User` model in `schema.prisma`. **Reason:** Provides a basic, verifiable example for initial database interaction as per the plan.
*   **[Timestamp]** - **Decision:** Switch project package manager from `pnpm` to `yarn`. **Reason:** Analysis of `package.json` revealed `pnpm` is currently configured, but the prompt explicitly requires using `yarn`. This switch is necessary for compliance.
*   **4/3/2025, 6:57:33 PM UTC** - **Decision:** Remove specific template files/directories (`components/home`, `components/layout`, `components/shared`, various `public/` assets, `app/sitemap.ts`) based on timestamp analysis and user confirmation. **Reason:** Clean up unused template code to avoid conflicts with custom implementation. Keep `lib/`, `app/fonts/`, `app/globals.css`, `public/logo.png` based on identified dependencies or user request.
*   **4/3/2025, 7:03:48 PM UTC** - **Decision:** Remove fixed background div from `app/(default)/layout.tsx`. **Reason:** The fixed div was covering the content rendered by child pages (e.g., `/admin`).
*   **4/3/2025, 7:05:12 PM UTC** - **Decision:** Remove centering/padding styles from `<main>` wrapper in `app/(default)/layout.tsx`. **Reason:** The wrapper styles were conflicting with the page's own layout (e.g., `/admin`), causing unwanted centering.
*   **4/5/2025, 1:24:50 AM UTC** - **Decision:** Use explicit `AND` condition in Prisma `findMany` query within `getPosts` (`app/(default)/blog/page.tsx`). **Reason:** Attempt to fix bug where filtering/search didn't correctly handle "no results" cases. (Note: Initial tests still failed, likely due to instability, but logs later confirmed logic was correct).
*   **4/5/2025, 1:25:36 AM UTC** - **Decision:** Move Prisma client import to top level in `app/(default)/blog/page.tsx`. **Reason:** Standardize import pattern and rule out dynamic import issues as cause for filtering bug.
*   **4/5/2025, 1:28:47 AM UTC** - **Decision:** Modify success message in `app/api/contact/route.ts`. **Reason:** Align API response with test expectation.
*   **4/5/2025, 1:16:18 AM UTC** - **Decision:** Move `admin` directory out of `(default)` route group (`app/(default)/admin` -> `app/admin`). **Reason:** Simplify routing structure as part of debugging persistent Clerk middleware protection failure.
*   **4/5/2025, 1:17:45 AM UTC** - **Decision:** Add console logging to `app/middleware.ts`. **Reason:** Debug persistent Clerk middleware failure by observing execution flow and path matching. (Note: Logs did not appear for `/admin`, suggesting middleware wasn't running for the path).
*   **4/5/2025, 1:34:38 AM UTC** - **Decision:** Refactor contact form into separate component (`app/components/ContactForm.tsx`) and page (`app/contact/page.tsx`). **Reason:** Improve code organization and separate concerns as requested by user.
*   **4/5/2025, 1:42:05 AM UTC** - **Decision:** Increase opacity of background SVG (`app/components/background.tsx`). **Reason:** Address user feedback that the background was not visible.
*   **4/5/2025, 1:43:10 AM UTC** - **Decision:** Implement Tailwind hover effects and Framer Motion entrance animations on landing page (`app/page.tsx`). **Reason:** Enhance visual appeal and interactivity as requested by user.
*   **4/5/2025, 2:15:10 AM UTC** - **Decision:** Remove magnetic dot snapping effect from custom cursor. **Reason:** User request to simplify cursor interaction.
*   **4/5/2025, 2:30:40 AM UTC** - **Decision:** Change landing page heading font to Orbitron and increase element spacing. **Reason:** User request for a more futuristic look and spacious layout.
*   **4/5/2025, 2:48:03 AM UTC** - **Decision:** Implement manual text scramble animation for landing page subtitle. **Reason:** User preferred scramble effect, but libraries (`react-scramble`, `use-scramble`) caused build errors/incompatibility. Manual implementation avoids external dependencies.
*   **4/5/2025, 2:55:27 AM UTC** - **Decision:** Increase landing page heading size, vertical spacing, and max content width. **Reason:** User request to improve layout and better utilize landscape space.
*   **4/5/2025, 2:59:00 AM UTC** - **Decision:** Revert to using `use-scramble` library for text animation. **Reason:** User preference, despite previous build errors encountered with this library.
*   **4/5/2025, 2:50:40 AM UTC** - **Decision:** Add `deploy:prod` script to `package.json`. **Reason:** User request to add a shortcut for the `vercel --prod` command.
*   **4/5/2025, 1:40:32 PM UTC** - **Decision:** Fixed JSX syntax errors in `app/page.tsx` by moving misplaced comments outside `className` attributes. **Reason:** Comments placed directly within JSX attribute strings (`{/* ... */}`) caused parsing errors (`Unexpected token 'div'. Expected jsx identifier`).
*   **4/5/2025, 5:16:33 PM UTC** - **Decision:** Refactor authentication from Clerk to NextAuth v4 (Google Provider). **Reason:** Persistent issues with Clerk middleware not executing for API routes in the current environment (Next.js 14.3.0-canary.57 on Codespaces), preventing `auth()` calls within API handlers. NextAuth v4 allows protection via `getServerSession` within handlers, bypassing the middleware execution problem.